/*! merge-fields-plugin - 0.1.49 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("grapesjs")):"function"==typeof define&&define.amd?define(["grapesjs"],t):"object"==typeof exports?exports["merge-fields-plugin"]=t(require("grapesjs")):e["merge-fields-plugin"]=t(e.grapesjs)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),l=n(2),a=r(l),u=n(3),d=r(u);t.default=o.default.plugins.add("merge-fields-plugin",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t,r={};for(var i in r)i in n||(n[i]=r[i]);(0,a.default)(e,n),(0,d.default)(e,n)})},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],e.DomComponents),n=t.getType("default"),r=n.model;n.view;t.addType("merge-field",{model:r.extend({init:function(){this.listenTo(this,"change:mergeField",this.updateMergeFieldText),this.get("traits").where({name:"mergeField"})[0].set("options",mergeFieldItems),e.trigger("change:selectedComponent")},updateMergeFieldText:function(e){var t=0,n="";this.get("traits").each(function(e){if(t=1,e.get("changeProp")){var r=e.getInitValue();r&&(n=r)}}),""==n&&(n="[Merge.Field]"),this.set("content",n),this.view.render()},populateMergeFields:function(){this.view.render()},defaults:Object.assign({},r.prototype.defaults,{type:"merge-field",tagName:"span",content:"[Merge.Field.Placeholder]",droppable:!1,draggable:!0,highlightable:!0,copyable:!0,editable:!1,selectable:!0,hoverable:!0,status:"selected",traits:[{type:"select",label:"Merge Field",name:"mergeField",changeProp:1}]})},{isComponent:function(e){if("select"==e.tagName)return{type:"merge-field"}}}),view:n.view})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.BlockManager.add("merge-field-block",{label:"Merge Field Block",content:{type:"merge-field",style:{height:"350px"},removable:!0}})}}])});